<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <script src="data:text/javascript;base64,ZG9tID0gZnVuY3Rpb24odGFnMCwgYXR0cjAgPSB7ICB9KSB7CiAgICBsZXQgZG9tT2JqCiAgICBkb21PYmogPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZzApCiAgICBmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXMoYXR0cjApKSB7CiAgICAgICAgZG9tT2JqW2tleV0gPSBhdHRyMFtrZXldCiAgICB9CiAgICByZXR1cm4oZG9tT2JqKQp9CnNlbGVjdF9kb20gPSBmdW5jdGlvbih4KSB7CiAgICByZXR1cm4oZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih4KSkKfQpzZWxlY3RfZG9tcyA9IGZ1bmN0aW9uKHgpIHsKICAgIHJldHVybihkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHgpKQp9CnByaW50X2RvbSA9IGZ1bmN0aW9uKGVsLCB4ID0gImJvZHkiKSB7CiAgICBsZXQgcmVzCiAgICByZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHgpCiAgICByZXMuYXBwZW5kQ2hpbGQoZWwpCiAgICByZXR1cm4ocmVzKQp9CmFwcGVuZF9kb21zID0gZnVuY3Rpb24ocGFyZW50KSB7CiAgICBsZXQgYXJncyA9IEFycmF5KC4uLmFyZ3VtZW50cyksIGFyZ3NfbGVuID0gYXJncy5sZW5ndGgKICAgIGlmIChhcmdzX2xlbiA9PSAxKSB7CiAgICAgICAgcmV0dXJuKHBhcmVudCkKICAgIH0KICAgIGZvciAobGV0IGVsIG9mIGFyZ3Muc2xpY2UoMSkpIHsKICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoZWwpCiAgICB9CiAgICByZXR1cm4ocGFyZW50KQp9CnN2ZyA9IGZ1bmN0aW9uKHRhZzAsIGF0dHIwKSB7CiAgICBsZXQgc3ZnT2JqCiAgICBzdmdPYmogPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiwgdGFnMCkKICAgIGZvciAobGV0IGtleSBvZiBPYmplY3Qua2V5cyhhdHRyMCkpIHsKICAgICAgICBzdmdPYmouc2V0QXR0cmlidXRlKGtleSwgYXR0cjBba2V5XSkKICAgIH0KICAgIHJldHVybihzdmdPYmopCn0K"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ace.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/theme-monokai.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/1.1.1/marked.min.js"></script>
  </head>
  <body>
    <script src="data:application/javascript;base64,c3R5bGUgPSAid2lkdGg6IDQ4JTsgaGVpZ2h0OjgwMHB4OyBtYXJnaW46MTBweDsiCmlmcmFtZV9zdHlsZSA9ICJ3aWR0aDoxMDAlOyBoZWlnaHQ6MTAwJTsgYm9yZGVyOm5vbmU7IgpwcmludF9kb20oYXBwZW5kX2RvbXMoZG9tKCJkaXYiLCB7IGlkOiAiY29udGFpbmVyIiwgc3R5bGU6ICJkaXNwbGF5OmZsZXg7IiB9KSwgZG9tKCJkaXYiLCB7IGlkOiAiZWRpdG9yIiwgc3R5bGU6IHN0eWxlICsgImZvbnQtc2l6ZTogMjBweDsiIH0pLCBhcHBlbmRfZG9tcyhkb20oImRpdiIsIHsgaWQ6ICJyZW5kZXJlciIsIHN0eWxlOiBzdHlsZSB9KSwgZG9tKCJpZnJhbWUiLCB7IGlkOiAiY2FjaGVfMSIsIHNyY2RvYzogIiIsIHN0eWxlOiBpZnJhbWVfc3R5bGUgfSksIGRvbSgiaWZyYW1lIiwgeyBpZDogImNhY2hlXzIiLCBzcmNkb2M6ICIiLCBzdHlsZTogaWZyYW1lX3N0eWxlICsgImRpc3BsYXk6IG5vbmU7IiB9KSkpKQplZGl0b3IgPSBhY2UuZWRpdCgiZWRpdG9yIiwgeyBtb2RlOiAiYWNlL21vZGUvbWFya2Rvd24iIH0pCmVkaXRvci5zZXRPcHRpb25zKHsgd3JhcDogdHJ1ZSwgaW5kZW50ZWRTb2Z0V3JhcDogZmFsc2UsIHNob3dMaW5lTnVtYmVyczogZmFsc2UsIHRoZW1lOiAiYWNlL3RoZW1lL21vbm9rYWkiIH0pCmlzX2hpZGRlbiA9IGZ1bmN0aW9uKHgpIHsKICAgIHJldHVybih4LnN0eWxlLmRpc3BsYXkgPT0gIm5vbmUiKQp9CmVkaXRvci5zZXNzaW9uLm9uKCJjaGFuZ2UiLCBmdW5jdGlvbihkZWx0YSkgewogICAgbGV0IGRvbV9zdHIsIGRpc3BsYXlfMSwgZGlzcGxheV8yLCBjYWNoZSwgY3VycmVudAogICAgZG9tX3N0ciA9IHJlbmRlcihtYXJrZWQoZWRpdG9yLmdldFZhbHVlKCkpKQogICAgZGlzcGxheV8xID0gc2VsZWN0X2RvbSgiI2NhY2hlXzEiKQogICAgZGlzcGxheV8yID0gc2VsZWN0X2RvbSgiI2NhY2hlXzIiKQogICAgY2FjaGUgPSBpc19oaWRkZW4oZGlzcGxheV8xKSA/IGRpc3BsYXlfMSA6IGRpc3BsYXlfMgogICAgY3VycmVudCA9IGlzX2hpZGRlbihkaXNwbGF5XzEpID8gZGlzcGxheV8yIDogZGlzcGxheV8xCiAgICBjYWNoZS5vbmxvYWQgPSBmdW5jdGlvbigpIHsKICAgICAgICBjdXJyZW50LnN0eWxlLmRpc3BsYXkgPSAibm9uZSIKICAgICAgICBjYWNoZS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIgogICAgfQogICAgY2FjaGUuc3JjZG9jID0gZG9tX3N0cgp9KQpyZW5kZXIgPSBmdW5jdGlvbihkb21fc3RyKSB7CiAgICBsZXQgaGVhZCwgYm9keQogICAgaGVhZCA9IGFwcGVuZF9kb21zKGRvbSgiaGVhZCIpLCBkb20oImxpbmsiLCB7IHJlbDogInN0eWxlc2hlZXQiLCBocmVmOiAiaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2FhYWFrc2hhdC9jbS13ZWItZm9udHNAbGF0ZXN0L2ZvbnRzLmNzcyIgfSksIGRvbSgic3R5bGUiLCB7IGlubmVyVGV4dDogImJvZHkge2ZvbnQtZmFtaWx5OiBcIkNvbXB1dGVyIE1vZGVybiBTZXJpZlwiLCBzYW5zLXNlcmlmO30iIH0pLCBkb20oInNjcmlwdCIsIHsgc3JjOiAiaHR0cHM6Ly9wb2x5ZmlsbC5pby92My9wb2x5ZmlsbC5taW4uanM/ZmVhdHVyZXM9ZXM2IiB9KSwgZG9tKCJzY3JpcHQiLCB7IGlubmVyVGV4dDogIk1hdGhKYXggPSB7dGV4OiB7aW5saW5lTWF0aDogW1snJCcsICckJ11dfX07IiB9KSwgZG9tKCJzY3JpcHQiLCB7IGlkOiAiTWF0aEpheC1zY3JpcHQiLCBhc3luYzogImFzeW5jIiwgc3JjOiAiaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9tYXRoamF4QDMvZXM1L3RleC1tbWwtY2h0bWwuanMiIH0pKQogICAgYm9keSA9IGRvbSgiYm9keSIsIHsgaW5uZXJIVE1MOiBkb21fc3RyIH0pCiAgICByZXR1cm4oaGVhZC5vdXRlckhUTUwgKyBib2R5Lm91dGVySFRNTCkKfQo="></script>
  </body>
</html>
